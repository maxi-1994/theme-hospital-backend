"use strict";(self.webpackChunkadminpro=self.webpackChunkadminpro||[]).push([[307],{4307:(ft,N,a)=>{a.r(N),a.d(N,{ChildRoutesModule:()=>gt});var g=a(7861),e=a(8256),y=a(4961);let j=(()=>{class i{constructor(t,n){this.userService=t,this.router=n}canActivate(t,n){return"ADMIN_USER"===this.userService.role||(this.router.navigateByUrl("/dashboard"),!1)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(y.f),e.LFG(g.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),K=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"dashboard works!"),e.qZA())},encapsulation:2}),i})();var p=a(6895),l=a(433);const B=function(i){return{"is-invalid":i}};let X=(()=>{class i{constructor(){this.progress=0,this.btnClass="btn-primary",this.outputValue=new e.vpe}ngOnInit(){this.btnClass=`btn ${this.btnClass}`}changeValue(t){return this.progress>=100&&t>=0?this.progress=100:this.progress<=0&&t<0?this.progress=0:(this.progress=this.progress+t,this.outputValue.emit(this.progress),this.progress)}onChange(t){this.progress=t>=100?100:t<=0?0:t,this.outputValue.emit(this.progress)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-counter"]],inputs:{progress:["value","progress"],btnClass:"btnClass"},outputs:{outputValue:"outputValue"},decls:8,vars:6,consts:[[1,"input-group"],[1,"input-group-btn"],["type","button",3,"ngClass","click"],[1,"fa","fa-minus"],["type","text","placeholder","Product name",1,"form-control",3,"ngClass","ngModel","ngModelChange"],[1,"fa","fa-plus"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"span",1)(2,"button",2),e.NdJ("click",function(){return n.changeValue(-10)}),e._UZ(3,"i",3),e.qZA()(),e.TgZ(4,"input",4),e.NdJ("ngModelChange",function(o){return n.onChange(o)})("ngModelChange",function(o){return n.progress=o}),e.qZA(),e.TgZ(5,"span",1)(6,"button",2),e.NdJ("click",function(){return n.changeValue(10)}),e._UZ(7,"i",5),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngClass",n.btnClass),e.xp6(2),e.Q6J("ngClass",e.VKq(4,B,n.progress>100||n.progress<0))("ngModel",n.progress),e.xp6(2),e.Q6J("ngClass",n.btnClass))},dependencies:[p.mk,l.Fj,l.JJ,l.On],encapsulation:2}),i})(),z=(()=>{class i{constructor(){this.progress1=0,this.progress2=0}get getPorcentage1(){return`${this.progress1}%`}get getPorcentage2(){return`${this.progress2}%`}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-progress"]],decls:19,vars:7,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"progress","m-t-20"],["role","progressbar",1,"progress-bar","bg-primary","progress-bar-striped","active",2,"height","10px"],[1,"col-6"],[3,"value","outputValue"],[3,"btnClass","value","outputValue"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"Striped Progress bar"),e.qZA(),e.TgZ(6,"div",5),e._UZ(7,"div",6),e.qZA(),e.TgZ(8,"div",5),e._UZ(9,"div",6),e.qZA()()()()(),e.TgZ(10,"div",0)(11,"div",7)(12,"div",2)(13,"div",3)(14,"app-counter",8),e.NdJ("outputValue",function(o){return n.progress1=o}),e.qZA()()()(),e.TgZ(15,"div",7)(16,"div",2)(17,"div",3)(18,"app-counter",9),e.NdJ("outputValue",function(o){return n.progress2=o}),e.qZA()()()()()),2&t&&(e.xp6(7),e.Udp("width",n.getPorcentage1),e.xp6(2),e.Udp("width",n.getPorcentage2),e.xp6(5),e.Q6J("value",n.progress1),e.xp6(4),e.Q6J("btnClass","btn-info")("value",n.progress2))},dependencies:[X],styles:[".progress.active[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%], .progress-bar.active[_ngcontent-%COMP%]{animation:progress-bar-stripes 2s linear infinite}.progress-vertical[_ngcontent-%COMP%]{min-height:250px;height:250px;position:relative;display:inline-block;margin-bottom:0;margin-right:20px}.progress-vertical-bottom[_ngcontent-%COMP%]{min-height:250px;height:250px;position:relative;display:inline-block;margin-bottom:0;margin-right:20px;transform:rotate(180deg)}.progress-animated[_ngcontent-%COMP%]{-webkit-animation-duration:5s;-webkit-animation-name:myanimation;-webkit-transition:5s all;animation-duration:5s;animation-name:myanimation;transition:5s all}@keyframes myanimation{0%{width:0}}"]}),i})();var W=a(1169);let ee=(()=>{class i{constructor(){this.title="No Title"}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-donut"]],inputs:{title:"title",doughnutChartData:["dataConfig","doughnutChartData"]},decls:7,vars:4,consts:[[1,"card"],[1,"card-body"],[1,"chart-container"],["baseChart","","type","doughnut",3,"data"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1"),e._uU(3),e.ALo(4,"titlecase"),e.qZA(),e.TgZ(5,"div",2),e._UZ(6,"canvas",3),e.qZA()()()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,2,n.title)),e.xp6(3),e.Q6J("data",n.doughnutChartData))},dependencies:[W.jh,p.rS],styles:[".chart-container[_ngcontent-%COMP%]{display:block;width:400px;height:400px;margin:auto}"]}),i})(),te=(()=>{class i{constructor(){this.chartData={labels:["Pan","Harina","Facturas"],datasets:[{data:[350,450,100]},{data:[50,150,120]},{data:[250,130,70]}]},this.chartData2={labels:["Sal","Azucar","Polvo Hornear"],datasets:[{data:[100,150,200]}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-grafica1"]],decls:5,vars:2,consts:[[1,"row"],[1,"col-6"],["title","ventas",3,"dataConfig"],["title","Compras",3,"dataConfig"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-donut",2),e.qZA(),e.TgZ(3,"div",1),e._UZ(4,"app-donut",3),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("dataConfig",n.chartData),e.xp6(2),e.Q6J("dataConfig",n.chartData2))},dependencies:[ee],encapsulation:2}),i})(),ne=(()=>{class i{constructor(){this.linkTheme=document.querySelector("#theme");const t=localStorage.getItem("theme");this.linkTheme?.setAttribute("href",t)}changeTheme(t){const n=`./assets/css/colors/${t}.css`;this.linkTheme?.setAttribute("href",n),localStorage.setItem("theme",n),this.checkCurrentTheme()}checkCurrentTheme(){document.querySelectorAll(".selector").forEach(n=>{n.classList.remove("working");const o=`./assets/css/colors/${n.getAttribute("data-theme")}.css`,c=this.linkTheme?.getAttribute("href");o===c&&n.classList.add("working")})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ie=(()=>{class i{constructor(t){this.settingsService=t}ngOnInit(){this.settingsService.checkCurrentTheme()}changeTheme(t){this.settingsService.changeTheme(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ne))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-account-setting"]],decls:50,vars:0,consts:[[1,"row"],[1,"col-5"],[1,"card"],[1,"card-body"],[1,"r-panel-body"],["id","themecolors",1,"m-t-20"],["data-theme","default",1,"selector","default-theme",3,"click"],["data-theme","green",1,"selector","green-theme",3,"click"],["data-theme","red",1,"selector","red-theme",3,"click"],["data-theme","blue",1,"selector","blue-theme",3,"click"],["data-theme","purple",1,"selector","purple-theme",3,"click"],["data-theme","megna",1,"selector","megna-theme",3,"click"],[1,"d-block","m-t-30"],["data-theme","default-dark",1,"selector","default-dark-theme",3,"click"],["data-theme","green-dark",1,"selector","green-dark-theme",3,"click"],["data-theme","red-dark",1,"selector","red-dark-theme",3,"click"],["data-theme","blue-dark",1,"selector","blue-dark-theme",3,"click"],["data-theme","purple-dark",1,"selector","purple-dark-theme",3,"click"],["data-theme","megna-dark",1,"selector","megna-dark-theme",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),e._uU(5,"Seleccione el Tema"),e.qZA(),e.TgZ(6,"div",4)(7,"ul",5)(8,"li")(9,"b"),e._uU(10,"Con el sidebar claro"),e.qZA()(),e.TgZ(11,"li")(12,"a",6),e.NdJ("click",function(){return n.changeTheme("default")}),e._uU(13,"1"),e.qZA()(),e.TgZ(14,"li")(15,"a",7),e.NdJ("click",function(){return n.changeTheme("green")}),e._uU(16,"2"),e.qZA()(),e.TgZ(17,"li")(18,"a",8),e.NdJ("click",function(){return n.changeTheme("red")}),e._uU(19,"3"),e.qZA()(),e.TgZ(20,"li")(21,"a",9),e.NdJ("click",function(){return n.changeTheme("blue")}),e._uU(22,"4"),e.qZA()(),e.TgZ(23,"li")(24,"a",10),e.NdJ("click",function(){return n.changeTheme("purple")}),e._uU(25,"5"),e.qZA()(),e.TgZ(26,"li")(27,"a",11),e.NdJ("click",function(){return n.changeTheme("megna")}),e._uU(28,"6"),e.qZA()(),e.TgZ(29,"li",12)(30,"b"),e._uU(31,"Con el sidebar oscuro"),e.qZA()(),e.TgZ(32,"li")(33,"a",13),e.NdJ("click",function(){return n.changeTheme("default-dark")}),e._uU(34,"7"),e.qZA()(),e.TgZ(35,"li")(36,"a",14),e.NdJ("click",function(){return n.changeTheme("green-dark")}),e._uU(37,"8"),e.qZA()(),e.TgZ(38,"li")(39,"a",15),e.NdJ("click",function(){return n.changeTheme("red-dark")}),e._uU(40,"9"),e.qZA()(),e.TgZ(41,"li")(42,"a",16),e.NdJ("click",function(){return n.changeTheme("blue-dark")}),e._uU(43,"10"),e.qZA()(),e.TgZ(44,"li")(45,"a",17),e.NdJ("click",function(){return n.changeTheme("purple-dark")}),e._uU(46,"11"),e.qZA()(),e.TgZ(47,"li")(48,"a",18),e.NdJ("click",function(){return n.changeTheme("megna-dark")}),e._uU(49,"12"),e.qZA()()()()()()()())},encapsulation:2}),i})(),se=(()=>{class i{constructor(){}ngOnInit(){this.getUsuarios().then(t=>{console.log(t)}),console.log("hola")}getUsuarios(){return new Promise(t=>{fetch("https://reqres.in/api/users").then(n=>n.json()).then(n=>t(n.data))})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-promesas"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"promesas works!"),e.qZA())},encapsulation:2}),i})();var re=a(727);class oe extends re.w0{constructor(s,t){super()}schedule(s,t=0){return this}}const b={setInterval(...i){const{delegate:s}=b;return(s?.setInterval||setInterval)(...i)},clearInterval(i){const{delegate:s}=b;return(s?.clearInterval||clearInterval)(i)},delegate:void 0};var ae=a(8737);const F={now:()=>(F.delegate||Date).now(),delegate:void 0};class Z{constructor(s,t=Z.now){this.schedulerActionCtor=s,this.now=t}schedule(s,t=0,n){return new this.schedulerActionCtor(this,s).schedule(n,t)}}Z.now=F.now;const A=new class le extends Z{constructor(s,t=Z.now){super(s,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(s){const{actions:t}=this;if(this._active)return void t.push(s);let n;this._active=!0;do{if(n=s.execute(s.state,s.delay))break}while(s=t.shift());if(this._active=!1,n){for(;s=t.shift();)s.unsubscribe();throw n}}}(class ce extends oe{constructor(s,t){super(s,t),this.scheduler=s,this.work=t,this.pending=!1}schedule(s,t=0){if(this.closed)return this;this.state=s;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(s,t,n=0){return b.setInterval(s.flush.bind(s,this),n)}recycleAsyncId(s,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;b.clearInterval(t)}execute(s,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(s,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(s,t){let r,n=!1;try{this.work(s)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:s,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(n,this),null!=s&&(this.id=this.recycleAsyncId(t,s,null)),this.delay=null,super.unsubscribe()}}}),de=A;var S=a(9751),ue=a(3532);function $(i=0,s,t=de){let n=-1;return null!=s&&((0,ue.K)(s)?t=s:n=s),new S.y(r=>{let o=function pe(i){return i instanceof Date&&!isNaN(i)}(i)?+i-t.now():i;o<0&&(o=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=n?this.schedule(void 0,n):r.complete())},o)})}var m=a(4004),he=a(9300);let ge=(()=>{class i{constructor(){this.intervalSubs=this.retornarIntervalo().subscribe(console.log)}retornarIntervalo(){return function me(i=0,s=A){return i<0&&(i=0),$(i,i,s)}(100).pipe((0,m.U)(t=>t+1),(0,he.h)(t=>t%2==0))}retornaObservable(){let t=-1;return new S.y(n=>{const r=setInterval(()=>{t++,n.next(t),4===t&&(clearInterval(r),n.complete())},1e3)})}ngOnDestroy(){this.intervalSubs.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-rxjs"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"rxjs works!"),e.qZA())},encapsulation:2}),i})();var fe=a(5226),d=a.n(fe),_e=a(162),ve=a(3339);let Ze=(()=>{class i{constructor(t,n,r){this.fb=t,this.usersService=n,this.fileUploadService=r,this.user=this.usersService.user}ngOnInit(){this.profileForm=this.fb.group({name:[this.user.name,l.kI.required],email:[this.user.email,[l.kI.required,l.kI.email]]})}onUpdateProfile(){this.usersService.updateUser(this.profileForm?.value).subscribe({next:()=>{const{name:t,email:n}=this.profileForm.value;this.user.name=t,this.user.email=n,d().fire("Saved","The profile was updated successfuly","success")},error:t=>{console.log(t.error.msg),d().fire("Error",t.error.msg,"error")}})}onUploadProfileImg(t){this.fileUploadService.updateImage(t,"users",this.user.uid).then(n=>{this.user.img=n,d().fire("Saved","The image was updated successfuly","success")}).catch(n=>{console.log(n),d().fire("Error","The image could not be loaded","error")})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(l.qu),e.Y36(y.f),e.Y36(_e.J))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-profile"]],decls:32,vars:4,consts:[[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"form","p-t-20",3,"formGroup","submit"],[1,"form-group"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","placeholder","User name","formControlName","name",1,"form-control"],["for","exampleInputEmail1"],[1,"ti-email"],["type","email","placeholder","User email","formControlName","email",1,"form-control",3,"readOnly"],["type","submit",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"fa","fa-save"],[3,"img","uploadData"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"My user profile"),e.qZA(),e.TgZ(6,"h6",5),e._uU(7,"Settings"),e.qZA(),e.TgZ(8,"form",6),e.NdJ("submit",function(){return n.onUpdateProfile()}),e.TgZ(9,"div",7)(10,"label",8),e._uU(11,"User Name"),e.qZA(),e.TgZ(12,"div",9)(13,"div",10),e._UZ(14,"i",11),e.qZA(),e._UZ(15,"input",12),e.qZA()(),e.TgZ(16,"div",7)(17,"label",13),e._uU(18,"Email address"),e.qZA(),e.TgZ(19,"div",9)(20,"div",10),e._UZ(21,"i",14),e.qZA(),e._UZ(22,"input",15),e.qZA()(),e.TgZ(23,"button",16),e._UZ(24,"i",17),e._uU(25," Save Changes "),e.qZA()()()()(),e.TgZ(26,"div",1)(27,"div",2)(28,"div",3),e._UZ(29,"h4",4)(30,"h6",5),e.TgZ(31,"app-img-uploader",18),e.NdJ("uploadData",function(o){return n.onUploadProfileImg(o)}),e.qZA()()()()()),2&t&&(e.xp6(8),e.Q6J("formGroup",n.profileForm),e.xp6(14),e.Q6J("readOnly",n.user.google),e.xp6(1),e.Q6J("disabled",n.profileForm.invalid),e.xp6(8),e.Q6J("img",n.user.imageUrl))},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,ve.V]}),i})();var Ce=a(7272),L=a(5698),O=a(4482),E=a(5403),Te=a(5032),Ae=a(9718),Y=a(5577);function P(i,s){return s?t=>(0,Ce.z)(s.pipe((0,L.q)(1),function be(){return(0,O.e)((i,s)=>{i.subscribe(new E.Q(s,Te.Z))})}()),t.pipe(P(i))):(0,Y.z)((t,n)=>i(t,n).pipe((0,L.q)(1),(0,Ae.h)(t)))}function M(i,s=A){const t=$(i,s);return P(()=>t)}var Ue=a(8421),xe=a(1144),f=a(576),ye=a(3268);const Se=["addListener","removeListener"],Me=["addEventListener","removeEventListener"],Ie=["on","off"];function C(i,s,t,n){if((0,f.m)(t)&&(n=t,t=void 0),n)return C(i,s,t).pipe((0,ye.Z)(n));const[r,o]=function we(i){return(0,f.m)(i.addEventListener)&&(0,f.m)(i.removeEventListener)}(i)?Me.map(c=>_=>i[c](s,_,t)):function qe(i){return(0,f.m)(i.addListener)&&(0,f.m)(i.removeListener)}(i)?Se.map(Q(i,s)):function ke(i){return(0,f.m)(i.on)&&(0,f.m)(i.off)}(i)?Ie.map(Q(i,s)):[];if(!r&&(0,xe.z)(i))return(0,Y.z)(c=>C(c,s,t))((0,Ue.Xf)(i));if(!r)throw new TypeError("Invalid event target");return new S.y(c=>{const _=(...T)=>c.next(1<T.length?T:T[0]);return r(_),()=>o(_)})}function Q(i,s){return t=>n=>i[t](s,n)}function I(i,s=A){return(0,O.e)((t,n)=>{let r=null,o=null,c=null;const _=()=>{if(r){r.unsubscribe(),r=null;const v=o;o=null,n.next(v)}};function T(){const v=c+i,V=s.now();if(V<v)return r=this.schedule(void 0,v-V),void n.add(r);_()}t.subscribe(new E.Q(n,v=>{o=v,c=s.now(),r||(r=s.schedule(T,i),n.add(r))},()=>{_(),n.complete()},void 0,()=>{o=r=null}))})}function q(...i){const s=i.length;if(0===s)throw new Error("list of properties cannot be empty.");return(0,m.U)(t=>{let n=t;for(let r=0;r<s;r++){const o=n?.[i[r]];if(!(typeof o<"u"))return;n=o}return n})}var k=a(3900),w=a(9646),u=a(5436);class R{constructor(s,t,n,r){this.name=s,this._id=t,this.img=n,this.user=r}}class He{constructor(s,t,n,r,o){this.name=s,this._id=t,this.img=n,this.user=r,this.hospital=o}}var Je=a(4872),H=a(529);let U=(()=>{class i{constructor(t){this.http=t}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}usersMapper(t){return t.map(n=>new Je.n(n.name,n.email,"",n.role,n.google,n.img,n.uid))}hospitalsMapper(t){return t.map(n=>new R(n.name,n._id,n.img,n.user))}medicsMapper(t){return t.map(n=>new He(n.name,n._id,n.img,n.user,n.hospital))}search(t,n){return this.http.get(`${u.t}${u.H.search}${t}/${n}`,this.headers).pipe((0,m.U)(o=>{switch(t){case"users":return this.usersMapper(o.results);case"hospitals":return this.hospitalsMapper(o.results);case"medics":return this.medicsMapper(o.results);default:return[]}}))}searchAll(t){return this.http.get(`${u.t}${u.H.searchAll}${t}`,this.headers)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(H.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var J=a(247);const Ne=["searchInput"];function Fe(i,s){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",8)(3,"h4",9),e._uU(4,"Loading"),e.qZA(),e._UZ(5,"i",10),e.TgZ(6,"p",11),e._uU(7,"Please Wait"),e.qZA()()()())}function $e(i,s){1&i&&(e.TgZ(0,"span",33),e._uU(1,"Google"),e.qZA())}function Le(i,s){1&i&&(e.TgZ(0,"span",34),e._uU(1,"Email"),e.qZA())}function Oe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",23)(2,"img",24),e.NdJ("click",function(){const o=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.openModal(o))}),e.qZA()(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"select",25),e.NdJ("ngModelChange",function(r){const c=e.CHM(t).$implicit;return e.KtG(c.role=r)})("change",function(){const o=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.changeRole(o))}),e.TgZ(9,"option",26),e._uU(10,"Admin"),e.qZA(),e.TgZ(11,"option",27),e._uU(12,"User"),e.qZA()()(),e.TgZ(13,"td"),e.YNc(14,$e,2,0,"span",28),e.YNc(15,Le,2,0,"span",29),e.qZA(),e.TgZ(16,"td",30)(17,"a",31),e.NdJ("click",function(){const o=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.deleteUser(o))}),e._UZ(18,"i",32),e.qZA()()()}if(2&i){const t=s.$implicit;e.xp6(2),e.Q6J("src",t.imageUrl,e.LSH),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Q6J("ngModel",t.role),e.xp6(6),e.Q6J("ngIf",t.google),e.xp6(1),e.Q6J("ngIf",!t.google)}}function Ee(i,s){if(1&i&&(e.TgZ(0,"div",18)(1,"table",19)(2,"thead")(3,"tr")(4,"th",20),e._uU(5,"Image"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Email"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Name"),e.qZA(),e.TgZ(10,"th",20),e._uU(11,"Role"),e.qZA(),e.TgZ(12,"th",20),e._uU(13,"Auth"),e.qZA(),e.TgZ(14,"th",21),e._uU(15,"Actions"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,Oe,19,6,"tr",22),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(17),e.Q6J("ngForOf",t.users)}}function Ye(i,s){1&i&&(e.TgZ(0,"p",35),e._uU(1,"No users found"),e.qZA())}function Pe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"button",36),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changePage(-5))}),e._uU(2,"Previous"),e.qZA(),e._uU(3," \xa0 "),e.TgZ(4,"button",36),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changePage(5))}),e._uU(5,"Next"),e.qZA()()}}function Qe(i,s){if(1&i&&(e.TgZ(0,"div",12)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",13),e._uU(5,"Users"),e.qZA(),e.TgZ(6,"h6",14),e._uU(7),e.qZA(),e.YNc(8,Ee,18,1,"div",15),e.YNc(9,Ye,2,0,"ng-template",null,16,e.W1O),e.YNc(11,Pe,6,0,"div",17),e.qZA()()()()),2&i){const t=e.MAs(10),n=e.oxw(),r=e.MAs(5);e.xp6(7),e.hij("Total Registered Users (",n.totalUsers,")"),e.xp6(1),e.Q6J("ngIf",0!==n.users.length)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",0===r.value.length)}}let Re=(()=>{class i{constructor(t,n,r){this.usersService=t,this.searchService=n,this.modalImgService=r,this.totalUsers=0,this.users=[],this.tempUsers=[],this.from=0,this.loading=!0}ngOnInit(){this.getUsers(),this.imgSubscription=this.modalImgService.imgChanged.pipe(M(100)).subscribe({next:()=>this.getUsers()})}ngAfterViewInit(){const t=C(this.searchInput.nativeElement,"keyup").pipe(I(500),q("target","value"),(0,k.w)(n=>0===n.length?(0,w.of)(this.tempUsers):this.searchService.search("users",n)));this.subscription=t.subscribe({next:n=>this.users=n})}getUsers(){this.loading=!0,this.subscription=this.usersService.getUsers(this.from).subscribe({next:({totalUsers:t,users:n})=>{this.totalUsers=t,this.users=n,this.tempUsers=n,this.loading=!1}})}changePage(t){this.from+=t,this.from<0?this.from=0:this.from>this.totalUsers&&(this.from-=t),this.getUsers()}changeRole(t){this.usersService.saveUser(t).subscribe({next:n=>console.log(n),error:n=>{console.log(n),d().fire("Error","Error updating user role","error")}})}deleteUser(t){t.uid===this.usersService.uid?d().fire("Error","Can not delete this user","error"):d().fire({title:"Delete User",text:`Are you sure to delete ${t.name}?`,icon:"question",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then(n=>{n.isConfirmed&&this.usersService.deleteUser(t.uid).subscribe({next:r=>{d().fire(`${r.msg}`,`${t.name} has been deleted`,"success"),this.getUsers()},error:r=>console.log(`Error: ${r.msg}`)})})}openModal(t){this.modalImgService.openModal("users",t.uid||"",t.img)}ngOnDestroy(){this.subscription.unsubscribe(),this.imgSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(y.f),e.Y36(U),e.Y36(J.F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-users"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ne,5),2&t){let r;e.iGM(r=e.CRH())&&(n.searchInput=r.first)}},decls:8,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Search user...",1,"form-control"],["searchInput",""],["class","row animated fadeIn fast",4,"ngIf"],["class","row fadeIn fast",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row","fadeIn","fast"],[1,"card-title"],[1,"card-subtitle"],["class","table-responsive",4,"ngIf","ngIfElse"],["noUsersFound",""],[4,"ngIf"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[1,"text-center"],["alt","user image",1,"avatar","cursor",3,"src","click"],[1,"form-control","w140",3,"ngModel","ngModelChange","change"],["value","ADMIN_USER"],["value","USER_ROLE"],["class","label label-danger",4,"ngIf"],["class","label label-info",4,"ngIf"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Delete",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"],[1,"label","label-danger"],[1,"label","label-info"],[1,"text-danger"],[1,"btn","btn-secondary",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"input",4,5),e.qZA()()()(),e.YNc(6,Fe,8,0,"div",6),e.YNc(7,Qe,12,4,"div",7)),2&t&&(e.xp6(6),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},dependencies:[p.sg,p.O5,l.YN,l.Kr,l.EJ,l.JJ,l.On]}),i})();var Ge=a(5861),h=a(2340);let G=(()=>{class i{constructor(t){this.http=t}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}getHospitals(){return this.http.get(`${h.N.base_url}${u.H.getHospitals}`,this.headers).pipe((0,m.U)(n=>n.hospitals))}createHospital(t){return this.http.post(`${h.N.base_url}${u.H.createHospital}`,{name:t},this.headers).pipe((0,m.U)(o=>o.hospital))}updateHospital(t){return this.http.put(`${h.N.base_url}${u.H.updateHospital}${t._id}`,{name:t.name},this.headers).pipe((0,m.U)(o=>o.hospitalUpdated))}deleteHospital(t){return this.http.delete(`${h.N.base_url}${u.H.deleteHospital}${t._id}`,this.headers).pipe((0,m.U)(r=>r))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(H.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),x=(()=>{class i{transform(t,n){return t?t?.includes("https")?t:t?`${u.t}/uploads/${n}/${t}`:`${u.t}/uploads/${n}/no-image`:`${u.t}/uploads/${n}/no-image`}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"image",type:i,pure:!0}),i})();const De=["searchInput"];function Ve(i,s){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",8)(3,"h4",9),e._uU(4,"Loading"),e.qZA(),e._UZ(5,"i",10),e.TgZ(6,"p",11),e._uU(7,"Please Wait"),e.qZA()()()())}function je(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",22)(2,"img",23),e.NdJ("click",function(){const o=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.openModal(o))}),e.ALo(3,"image"),e.qZA()(),e.TgZ(4,"td")(5,"input",24),e.NdJ("ngModelChange",function(r){const c=e.CHM(t).$implicit;return e.KtG(c.name=r)}),e.qZA()(),e.TgZ(6,"td",25)(7,"a",26),e.NdJ("click",function(){const o=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.onUpdateHospital(o))}),e._UZ(8,"i",27),e.qZA(),e.TgZ(9,"a",28),e.NdJ("click",function(){const o=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.onDeleteHospital(o))}),e._UZ(10,"i",29),e.qZA()()()}if(2&i){const t=s.$implicit;let n;e.xp6(2),e.s9C("alt",t.name),e.Q6J("src",e.xi3(3,3,null!==(n=t.img)&&void 0!==n?n:"","hospitals"),e.LSH),e.xp6(3),e.Q6J("ngModel",t.name)}}function Ke(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",13)(5,"div")(6,"h4",14),e._uU(7,"Hospitals"),e.qZA(),e.TgZ(8,"h6",15),e._uU(9),e.qZA()(),e.TgZ(10,"div")(11,"button",16),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onCreateHospital())}),e._UZ(12,"i",17),e._uU(13," Create Hospital "),e.qZA()()(),e.TgZ(14,"div",18)(15,"table",19)(16,"thead")(17,"tr")(18,"th"),e._uU(19,"Image"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Name"),e.qZA(),e.TgZ(22,"th",20),e._uU(23,"Actions"),e.qZA()()(),e.TgZ(24,"tbody"),e.YNc(25,je,11,6,"tr",21),e.qZA()()()()()()()}if(2&i){const t=e.oxw();e.xp6(9),e.hij("Registered hospitals(",t.hospitals.length,")"),e.xp6(16),e.Q6J("ngForOf",t.hospitals)}}let Be=(()=>{class i{constructor(t,n,r){this.hospitalsService=t,this.searchService=n,this.modalImgService=r,this.hospitals=[],this.tempHospitals=[],this.loading=!0}ngOnInit(){this.getHospitals(),this.imgSubscription=this.modalImgService.imgChanged.pipe(M(100)).subscribe({next:()=>this.getHospitals()})}ngAfterViewInit(){const t=C(this.searchInput.nativeElement,"keyup").pipe(I(500),q("target","value"),(0,k.w)(n=>0===n.length?(0,w.of)(this.tempHospitals):this.searchService.search("hospitals",n)));this.subscription=t.subscribe({next:n=>this.hospitals=n})}getHospitals(){this.loading=!0,this.hospitalsService.getHospitals().subscribe({next:t=>{this.loading=!1,this.hospitals=t,this.tempHospitals=t}})}onUpdateHospital(t){this.hospitalsService.updateHospital(t).subscribe({next:n=>{d().fire("Hospital has been updated",`${n.name}`,"success")},error:n=>{console.log(`ERROR: ${n}`),d().fire("Error","Error updating hospital","error")}})}onDeleteHospital(t){this.hospitalsService.deleteHospital(t).subscribe({next:n=>{d().fire(`${n.msg}`,"","success"),this.getHospitals()},error:n=>{console.log(`ERROR: ${n}`),d().fire("Error","Error deleting hospital","error")}})}onCreateHospital(){var t=this;return(0,Ge.Z)(function*(){yield d().fire({title:"Add new hospital",text:"Instert hospital name",input:"text",showCancelButton:!0,confirmButtonText:"Add",showLoaderOnConfirm:!0,preConfirm:()=>{},allowOutsideClick:()=>!d().isLoading()}).then(n=>{const r=n.value??"";r.length>0?t.hospitalsService.createHospital(r).subscribe({next:()=>{t.getHospitals(),d().fire("New hospital added","","success")}}):d().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1e3,timerProgressBar:!0,didOpen:c=>{c.addEventListener("mouseenter",d().stopTimer),c.addEventListener("mouseleave",d().resumeTimer)}}).fire({icon:"error",title:"Operation canceled"})})})()}openModal(t){this.modalImgService.openModal("hospitals",t._id||"",t.img)}ngOnDestroy(){this.subscription.unsubscribe(),this.imgSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(G),e.Y36(U),e.Y36(J.F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-hospitals"]],viewQuery:function(t,n){if(1&t&&e.Gf(De,5),2&t){let r;e.iGM(r=e.CRH())&&(n.searchInput=r.first)}},decls:8,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Search hospital...",1,"form-control"],["searchInput",""],["class","row animated fadeIn fast",4,"ngIf"],["class","row",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"d-flex","justify-content-between","mb-2"],[1,"card-title"],[1,"card-subtitle"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-hospital-o"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"text-nowrap"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"avatar","cursor",3,"src","alt","click"],["type","text","placeholder","Hospital name",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Save",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10","cursor"],["data-toggle","tooltip","data-original-title","Delete",3,"click"],[1,"fa","fa-close","text-danger","cursor"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"input",4,5),e.qZA()()()(),e.YNc(6,Ve,8,0,"div",6),e.YNc(7,Ke,26,2,"div",7)),2&t&&(e.xp6(6),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},dependencies:[p.sg,p.O5,l.Fj,l.JJ,l.On,x],encapsulation:2}),i})(),D=(()=>{class i{constructor(t){this.http=t}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}getMedics(){return this.http.get(`${h.N.base_url}${u.H.getMedics}`,this.headers).pipe((0,m.U)(n=>n.medics))}getMedicById(t){return this.http.get(`${h.N.base_url}${u.H.getMedics}${t}`,this.headers).pipe((0,m.U)(r=>r.medic))}createMedic(t){return this.http.post(`${h.N.base_url}${u.H.createMedic}`,t,this.headers).pipe((0,m.U)(r=>r))}updateMedic(t){return this.http.put(`${h.N.base_url}${u.H.updateMedic}${t._id}`,{name:t.name,hospital:t.hospital},this.headers)}deleteMedic(t){return this.http.delete(`${h.N.base_url}${u.H.deleteMedic}${t._id}`,this.headers)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(H.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Xe=["searchInput"];function ze(i,s){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",8)(3,"h4",9),e._uU(4,"Loading"),e.qZA(),e._UZ(5,"i",10),e.TgZ(6,"p",11),e._uU(7,"Please Wait"),e.qZA()()()())}const We=function(i){return["/dashboard/medic",i]};function et(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"img",25),e.NdJ("click",function(){const o=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.openModal(o))}),e.ALo(3,"image"),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td",26)(7,"a",27),e._UZ(8,"i",28),e.qZA(),e.TgZ(9,"a",29),e.NdJ("click",function(){const o=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.onDeteleMedic(o))}),e._UZ(10,"i",30),e.qZA()()()}if(2&i){const t=s.$implicit;let n;e.xp6(2),e.s9C("alt",t.name),e.Q6J("src",e.xi3(3,4,null!==(n=t.img)&&void 0!==n?n:"","medics"),e.LSH),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.Q6J("routerLink",e.VKq(7,We,t._id))}}function tt(i,s){if(1&i&&(e.TgZ(0,"div",20)(1,"table",21)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"Image"),e.qZA(),e.TgZ(6,"th",22),e._uU(7,"Name"),e.qZA(),e.TgZ(8,"th",23),e._uU(9,"Actions"),e.qZA()()(),e.TgZ(10,"tbody"),e.YNc(11,et,11,9,"tr",24),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(11),e.Q6J("ngForOf",t.medics)}}function nt(i,s){1&i&&(e.TgZ(0,"p",31),e._uU(1,"No medics found"),e.qZA())}function it(i,s){if(1&i&&(e.TgZ(0,"div",12)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",13)(5,"div")(6,"h4",14),e._uU(7,"Medics"),e.qZA(),e.TgZ(8,"h6",15),e._uU(9),e.qZA()(),e.TgZ(10,"div")(11,"a",16),e._UZ(12,"i",17),e._uU(13," Create Medico "),e.qZA()()(),e.YNc(14,tt,12,1,"div",18),e.YNc(15,nt,2,0,"ng-template",null,19,e.W1O),e.qZA()()()()),2&i){const t=e.MAs(16),n=e.oxw();e.xp6(9),e.hij("Registered Medics(",n.medics.length,")"),e.xp6(5),e.Q6J("ngIf",n.medics.length>0)("ngIfElse",t)}}let st=(()=>{class i{constructor(t,n,r){this.medicsService=t,this.searchService=n,this.modalImgService=r,this.medics=[],this.tempMedics=[]}ngOnInit(){this.getMedic(),this.imgSubscription=this.modalImgService.imgChanged.pipe(M(100)).subscribe({next:()=>this.getMedic()})}ngAfterViewInit(){const t=C(this.searchInput.nativeElement,"keyup").pipe(I(500),q("target","value"),(0,k.w)(n=>0===n.length?(0,w.of)(this.tempMedics):this.searchService.search("medics",n)));this.subscription=t.subscribe({next:n=>this.medics=n})}getMedic(){this.isLoading=!0,this.medicsService.getMedics().subscribe({next:t=>{this.medics=t,this.tempMedics=t,this.isLoading=!1}})}onDeteleMedic(t){this.medicsService.deleteMedic(t).subscribe({next:n=>{d().fire(`${t.name}`,`${n.msg}`,"success"),this.getMedic()},error:n=>{console.log(`ERROR: ${n}`),d().fire("Error","Error deleting hospital","error")}})}openModal(t){this.modalImgService.openModal("medics",t._id||"",t.img)}ngOnDestroy(){this.subscription.unsubscribe(),this.imgSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(D),e.Y36(U),e.Y36(J.F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-medics"]],viewQuery:function(t,n){if(1&t&&e.Gf(Xe,5),2&t){let r;e.iGM(r=e.CRH())&&(n.searchInput=r.first)}},decls:8,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Search medic...",1,"form-control"],["searchInput",""],["class","row animated fadeIn fast",4,"ngIf"],["class","row",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"d-flex","justify-content-between","mb-2"],[1,"card-title"],[1,"card-subtitle"],["routerLink","/dashboard/medic/new",1,"btn","btn-primary"],[1,"fa","fa-hospital-o"],["class","table-responsive",4,"ngIf","ngIfElse"],["noMedicsFound",""],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w-100"],[1,"text-nowrap"],[4,"ngFor","ngForOf"],[1,"avatar","cursor",3,"src","alt","click"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Edit",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip","data-original-title","Delete",3,"click"],[1,"fa","fa-close","text-danger","cursor"],[1,"text-danger"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"input",4,5),e.qZA()()()(),e.YNc(6,ze,8,0,"div",6),e.YNc(7,it,17,3,"div",7)),2&t&&(e.xp6(6),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",!n.isLoading))},dependencies:[p.sg,p.O5,g.yS,x],encapsulation:2}),i})();function rt(i,s){if(1&i&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function ot(i,s){if(1&i&&(e.TgZ(0,"div",21)(1,"div",2)(2,"div",3)(3,"h4",4),e._uU(4,"Hospital"),e.qZA(),e.TgZ(5,"h6",5),e._uU(6,"Hospital assigned"),e.qZA(),e.TgZ(7,"div",22),e._UZ(8,"img",23),e.ALo(9,"image"),e.qZA()()()()),2&i){const t=e.oxw();let n;e.xp6(8),e.s9C("alt",t.selectedHospital.name),e.Q6J("src",e.xi3(9,2,null!==(n=t.selectedHospital.img)&&void 0!==n?n:"","hospitals"),e.LSH)}}let at=(()=>{class i{constructor(t,n,r,o,c){this.fb=t,this.hospitalService=n,this.medicsService=r,this.router=o,this.activatedRoute=c,this.hospitalsList=[]}ngOnInit(){this.activatedRoute.params.subscribe(({id:t})=>this.getSelectedMedic(t)),this.getHospitals(),this.medicForm=this.fb.group({name:["",l.kI.required],hospital:["",l.kI.required]}),this.medicForm.get("hospital")?.valueChanges.subscribe(t=>{this.selectedHospital=this.hospitalsList.find(n=>n._id===t)??new R("")})}onSaveMedic(){const t=this.medicForm.get("name")?.value;if(this.selectedMedic){const n={_id:this.selectedMedic._id,...this.medicForm.value};this.medicsService.updateMedic(n).subscribe({next:r=>{d().fire("Updated",`${t}`,"success"),this.router.navigateByUrl("/dashboard/medics")}})}else this.medicsService.createMedic(this.medicForm.value).subscribe({next:n=>{d().fire("Created",`${t}`,"success"),this.router.navigateByUrl("/dashboard/medics")}})}getSelectedMedic(t){this.medicsService.getMedicById(t).subscribe({next:n=>{this.selectedMedic=n,this.medicForm.setValue({name:n.name,hospital:n.hospital?._id})}})}getHospitals(){this.hospitalService.getHospitals().subscribe({next:t=>{this.hospitalsList=t}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(l.qu),e.Y36(G),e.Y36(D),e.Y36(g.F0),e.Y36(g.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-medic"]],decls:28,vars:4,consts:[[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"form","p-t-20",3,"formGroup","submit"],[1,"form-group"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","placeholder","Medic name","formControlName","name",1,"form-control"],["for","exampleInputEmail1"],["formControlName","hospital",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"fa","fa-save"],["class","col-md-6 animated fadeIn fast",4,"ngIf"],[3,"value"],[1,"col-md-6","animated","fadeIn","fast"],[1,"text-center"],[1,"img-avatar",3,"src","alt"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"Medic"),e.qZA(),e.TgZ(6,"h6",5),e._uU(7,"Update Information"),e.qZA(),e.TgZ(8,"form",6),e.NdJ("submit",function(){return n.onSaveMedic()}),e.TgZ(9,"div",7)(10,"label",8),e._uU(11,"Name"),e.qZA(),e.TgZ(12,"div",9)(13,"div",10),e._UZ(14,"i",11),e.qZA(),e._UZ(15,"input",12),e.qZA()(),e.TgZ(16,"div",7)(17,"label",13),e._uU(18,"Hospital to assign"),e.qZA(),e.TgZ(19,"div",9)(20,"select",14)(21,"option",15),e._uU(22,"Select a hospital"),e.qZA(),e.YNc(23,rt,2,2,"option",16),e.qZA()()(),e.TgZ(24,"button",17),e._UZ(25,"i",18),e._uU(26," Save "),e.qZA()()()()(),e.YNc(27,ot,10,5,"div",19),e.qZA()),2&t&&(e.xp6(8),e.Q6J("formGroup",n.medicForm),e.xp6(15),e.Q6J("ngForOf",n.hospitalsList),e.xp6(1),e.Q6J("disabled",n.medicForm.invalid),e.xp6(3),e.Q6J("ngIf",n.selectedHospital))},dependencies:[p.sg,p.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u,x]}),i})();function ct(i,s){1&i&&(e.TgZ(0,"div",8)(1,"p",9),e._uU(2," No users found "),e.qZA()())}function lt(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"img",10),e.ALo(3,"image"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()()),2&i){const t=s.$implicit;let n;e.xp6(2),e.s9C("src",e.xi3(3,3,null!==(n=t.img)&&void 0!==n?n:"","users"),e.LSH),e.s9C("alt",t.name),e.xp6(3),e.Oqu(t.name)}}function dt(i,s){1&i&&(e.TgZ(0,"div",8)(1,"p",9),e._uU(2," No medics found "),e.qZA()())}function ut(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"img",10),e.ALo(3,"image"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()()),2&i){const t=s.$implicit;let n;e.xp6(2),e.s9C("src",e.xi3(3,3,null!==(n=t.img)&&void 0!==n?n:"","medics"),e.LSH),e.s9C("alt",t.name),e.xp6(3),e.Oqu(t.name)}}function pt(i,s){1&i&&(e.TgZ(0,"div",8)(1,"p",9),e._uU(2," No hospitals found "),e.qZA()())}function mt(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"img",10),e.ALo(3,"image"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()()),2&i){const t=s.$implicit;let n;e.xp6(2),e.s9C("src",e.xi3(3,3,null!==(n=t.img)&&void 0!==n?n:"","hospitals"),e.LSH),e.s9C("alt",t.name),e.xp6(3),e.Oqu(t.name)}}const ht=[{path:"",component:K,data:{title:"Dashboard"}},{path:"progress",component:z,data:{title:"ProgressBar"}},{path:"chart",component:te,data:{title:"Chart"}},{path:"account-setting",component:ie,data:{title:"Account Settings"}},{path:"search/:searchReference",component:(()=>{class i{constructor(t,n){this.activatedRoute=t,this.searchService=n,this.userList=[],this.medicList=[],this.hospitalList=[]}ngOnInit(){this.activatedRoute.params.subscribe(({searchReference:t})=>{this.searchService.searchAll(t).subscribe({next:n=>{this.userList=n.users,this.medicList=n.medic,this.hospitalList=n.hospital}})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.gz),e.Y36(U))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-all-search-result"]],decls:49,vars:6,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-4"],[1,"card"],[1,"card-body"],["class","alert alert-info",4,"ngIf"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"alert","alert-info"],[1,"mb-0"],[1,"avatar",3,"src","alt"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),e._uU(5,"Users"),e.qZA(),e.YNc(6,ct,3,0,"div",4),e.TgZ(7,"div",5)(8,"table",6)(9,"thead")(10,"tr")(11,"th"),e._uU(12,"Image"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Name"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,lt,6,6,"tr",7),e.qZA()()()()()(),e.TgZ(17,"div",1)(18,"div",2)(19,"div",3)(20,"h3"),e._uU(21,"Medics"),e.qZA(),e.YNc(22,dt,3,0,"div",4),e.TgZ(23,"div",5)(24,"table",6)(25,"thead")(26,"tr")(27,"th"),e._uU(28,"Image"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Name"),e.qZA()()(),e.TgZ(31,"tbody"),e.YNc(32,ut,6,6,"tr",7),e.qZA()()()()()(),e.TgZ(33,"div",1)(34,"div",2)(35,"div",3)(36,"h3"),e._uU(37,"Hospitals"),e.qZA(),e.YNc(38,pt,3,0,"div",4),e.TgZ(39,"div",5)(40,"table",6)(41,"thead")(42,"tr")(43,"th"),e._uU(44,"Image"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Name"),e.qZA()()(),e.TgZ(47,"tbody"),e.YNc(48,mt,6,6,"tr",7),e.qZA()()()()()()()),2&t&&(e.xp6(6),e.Q6J("ngIf",0===n.userList.length),e.xp6(10),e.Q6J("ngForOf",n.userList),e.xp6(6),e.Q6J("ngIf",0===n.medicList.length),e.xp6(10),e.Q6J("ngForOf",n.medicList),e.xp6(6),e.Q6J("ngIf",0===n.hospitalList.length),e.xp6(10),e.Q6J("ngForOf",n.hospitalList))},dependencies:[p.sg,p.O5,x],encapsulation:2}),i})(),data:{title:"Search result"}},{path:"promesas",component:se,data:{title:"Promesas"}},{path:"rxjs",component:ge,data:{title:"RxJs"}},{path:"profile",component:Ze,data:{title:"User Profile"}},{path:"hospitals",component:Be,data:{title:"Hospitals settings"}},{path:"medics",component:st,data:{title:"Medics settings"}},{path:"medic/:id",component:at,data:{title:"Medics settings"}},{path:"users",canActivate:[j],component:Re,data:{title:"Users settings"}}];let gt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[g.Bz.forChild(ht),g.Bz]}),i})()}}]);